import{c as te,M as ie,v as B,r as j,n as v,L as se,o as H,x as I}from"./unsafe-html.Cq_Zrvyp.js";import{g as re}from"./unique.Drf7mNs9.js";import{t as ne}from"./menu.yXNpUyfI.js";import{n as F}from"./router.WLLD8StG.js";import"./codeTabs.9jHk7RWr.js";import"./runtime-dom.esm-bundler.CYfEf4Zo.js";import"./runtime-core.esm-bundler.BhZ-w4vx.js";import"./code.Bzi123i_.js";function Q(){return window.scrollY||window.pageYOffset||document.scrollTop||document.body.scrollTop}function Y(e){const t=e.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,r=window.pageXOffset||s.scrollLeft||i.scrollLeft,o=s.clientTop||i.clientTop||0,l=s.clientLeft||i.clientLeft||0,a=t.top+n-o,c=t.left+r-l;return{top:Math.round(a),left:Math.round(c)}}function le(e){const t=Y(e),i=Q();return window.innerHeight-t.top+i}function oe(e){const t=Y(e),i=Q();return t.top-i}function ae(e,t,i){const s=Object.assign({offset:20,once:!1,times:-1},{});let n=!1,r=e,o=e;e===window.document.body?(n=!0,r=document,o=window.document.body):e===window.document&&(n=!0,e=document.body,o=document.body);let l=!0,a=0;const c=e=>{let i,d,h;n?(d=window.innerHeight,h=o.scrollTop,i=Math.max(window.document.body.scrollHeight,window.document.documentElement.scrollHeight,window.document.body.offsetHeight,window.document.documentElement.offsetHeight,window.document.body.clientHeight,window.document.documentElement.clientHeight)):(d=o.offsetHeight,h=o.scrollTop,i=o.scrollHeight),l&&h+d>=i-s.offset?(t(),a++,(s.once||s.times>0&&a>=s.times)&&(r.removeEventListener("scroll",c),l=!1)):o.offsetHeight+o.scrollTop<o.scrollHeight-s.offset&&(l=!0)};r.addEventListener("scroll",c)}function ce(e,t){let i=0,s=0;return i=t.x-e.x,i*=i,s=t.y-e.y,s*=s,Math.sqrt(i+s)}function de(e,t,i){const s=Object.assign({},i??{});let n,r=1/0;const o=e.getBoundingClientRect();for(let[i,l]of Object.entries(t)){if(l===e)continue;const t=l.getBoundingClientRect();let i;switch(s.direction){case"top":if(t.top>o.top)continue;break;case"right":if(t.left<o.right)continue;break;case"bottom":if(t.bottom<o.bottom)continue;break;case"left":if(t.right>o.left)continue}i=ce(o,t),i<r&&(r=i,n=l)}return n}function ue(e){return te(e)}function fe(e){if("string"!=typeof e)return e;if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1;if("null"===e.toLowerCase())return null;if("undefined"===e.toLowerCase())return;e=e.split("⠀").join("").trim();const t=Number(e);if(!isNaN(t))return Number.isInteger(t)?t:parseFloat(e);try{const t=JSON.parse(e);if(t)return t}catch{}return e}function z(e,t){if(!e)return;const i=window.getComputedStyle(e),s=["","webkit-","moz-","ms-","o-","khtml-"];for(let e=0;e<s.length;e++){const n=i[ue(`${s[e]}${t}`)];if(n&&""!==n.trim())return fe(n)}return null}function he(e){var t;return(null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(":focus-within"))===e}function D(){return!(!("ontouchstart"in document.documentElement)||void 0===window.orientation||!window.matchMedia("only screen and (max-width: 639px)").matches||!window.matchMedia("(pointer: coarse)").matches)}function pe(e){const t={a:/[áàâãªä]/gm,A:/[ÁÀÂÃÄ]/gm,I:/[ÍÌÎÏ]/gm,i:/[íìîï]/gm,e:/[éèêë]/gm,E:/[ÉÈÊË]/gm,o:/[óòôõºö]/gm,O:/[ÓÒÔÕÖ]/gm,u:/[úùûü]/gm,U:/[ÚÙÛÜ]/gm,c:/ç/gm,C:/Ç/gm,n:/ñ/gm,N:/Ñ/gm,"-":/–/gm," ":/[’‘‹›‚“”«»„[] ]/gm};return Object.keys(t).forEach((i=>{e=e.replace(t[i],i)})),e}function me(e,t){t=Object.assign({exclude:[]},t??{}),e=pe(e=e.replace(/\s/gm,"-"));const i={"/":"-","@":"",".":"-",",":"-","\\":"-","(":"-",")":"-","{":"-","}":"-","[":"-","]":"-","=":"-","?":"-","!":"-","&":"-","%":"-","*":"-",'"':"-","'":"-","`":"-","+":"-","°":"-",$:"-","<":"-",">":"-",":":"-","#":"-"};return t.exclude.forEach((e=>{delete i[e]})),Object.keys(i).forEach((t=>{e=e.split(t).join(i[t])})),e=(e=(e=(e=(e=(e=(e=e.replace(/\.{2,999}/gm,".")).replace(/^-{1,999}/gm,"")).replace(/-{1,999}$/gm,"")).replace(/-{2,999}/gm,"-")).replace(/[^a-zA-Z0-9]{1,999}$/,"")).replace(/^[^a-zA-Z0-9]{1,999}/,"")).toLowerCase()}function _e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ge(e,t,i){const s=Object.assign({class:"-highlight"},i??{});let n,r;"string"==typeof e?(r=document.createElement("div"),r.innerHTML=e,n="string"):e instanceof HTMLElement&&(r=e,n="element");const o=new ie(r),l={className:s.class};return t instanceof RegExp?o.markRegExp(t,l):(Array.isArray(t)||"string"==typeof t)&&o.mark(t,l),"string"===n?r.innerHTML:r}function ve(e,t){const i=Object.assign({quotesToRemove:['"',"'","”","`"]},{});return e=e.trim(),i.quotesToRemove.forEach((t=>{e.substr(0,1)!==t||e.substr(-1)!==t||(e=(e=e.substr(1)).substr(0,e.length-1))})),e}function ye(e){const t=e.concat();for(let e=0;e<t.length;++e)for(let i=e+1;i<t.length;++i)t[e]===t[i]&&t.splice(i--,1);return t}function $e(e,t){if(Array.isArray(t))return U(e,t);if(void 0!==e[t])return e[t];if(!t||""===t||"."===t)return e;let i=[(t=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/\\\./g,"_dot_")).replace(/^\./,"")).replace(/\?/gm,"")];const s=t.split(".");for(let e=s.length-1;e>=0;e--)if(s[e].match(/\?$/)){const t=s.slice(0,e),n=s.slice(e+1);i.push([...t,...n].join(".")),i.push([...t,...n.filter((e=>!e.match(/\?$/)))].join("."))}i=ye(i.map((e=>e.replace(/\?/gm,""))));for(let t=0;t<i.length;t++){const s=U(e,i[t]);if(void 0!==s)return s}}function U(e,t){let i,s=e;if("string"==typeof t){if(void 0!==e[t])return e[t];if(!t||""===t||"."===t)return e;t=t.split(/(?!\B"[^"]*)\.(?![^"]*"\B)/gm)}for(i=[...t].map((e=>"string"==typeof e?ve(e):e));i.length;){let e=i.shift();if("string"==typeof e&&(e=e.replace(/\?$/,"")),"object"!=typeof s||!s||!(e in s))return;s=s[e]}return s}var M,be={};function x(e,t){var i,s,n,r;const o=Object.assign({tokens:{}},{}),l=null!==(s=null===(i=be)||void 0===i?void 0:i.I18N)&&void 0!==s?s:{};let a;o.id&&(a=null!==(n=l[o.id])&&void 0!==n?n:$e(l,o.id)),a||(a=null!==(r=l[e])&&void 0!==r?r:e),l[e]||(l._missing||(l._missing={}),l._missing[e]=e);const c=` ${a} `.match(/(__\([^__\)]*\)__|(?!\|)%[a-zA-Z0-9])/gm);if(!c)return a;function d(e){var t,i;return null!==(i=null!==(t=o.tokens[e])&&void 0!==t?t:o.tokens[e.replace(/^%/,"")])&&void 0!==i?i:e}let h;return c.forEach((e=>{var t;if(e.match(/^%/)){h=e;const t=d(e);a=a.replaceAll(new RegExp(`([^(])?${e}`,"g"),`$1${t}`)}else{const i=e.match(/\|(%[a-zA-Z0-9]+)\)__/),s=null!==(t=i?.[1])&&void 0!==t?t:h,n=d(s);if("number"!=typeof n)return void(a=a.replace(e,`**(invalid token "${s}" for pluralization)**`));let r=(e=e.replace(/\\\|/gm,"_$_")).split(/\|/gm);r=r.map((e=>e.replace(/_\$_/gm,"|").replace(/^__\(/,"").replace(/\)__$/,""))),e=e.replace(/_\$_/gm,"\\|"),1===r.length?a=a.replace(e,n>1?r[0]:""):2===r.length&&r[0].match(/^%[a-zA-Z0-9]+/)?a=a.replace(e,n>1?r[1]:""):2!==r.length||r[0].match(/^%[a-zA-Z0-9]+/)?3===r.length&&(a=a.replace(e,n>1?r[2]:r[1])):a=a.replace(e,n>1?r[1]:r[0])}})),a}null!==(M=window.process)&&void 0!==M&&M.env?window.process.env.I18N||(window.process.env.I18N={}):window.process={env:{I18N:{}}};var Z,q={exports:{}},we=q.exports;function Ie(){return Z||(Z=1,e=q,function(t){if("function"!=typeof i){var i=function(e){return e};i.nonNative=!0}const s=i("plaintext"),n=i("html"),r=i("comment"),o=/<(\w*)>/g,l=/<\/?([^\s\/>]+)/;function a(e,t,i){return d(e=e||"",c(t=t||[],i=i||""))}function c(e,t){return e=function(e){let t=new Set;if("string"==typeof e){let i;for(;i=o.exec(e);)t.add(i[1])}else i.nonNative||"function"!=typeof e[i.iterator]?"function"==typeof e.forEach&&e.forEach(t.add,t):t=new Set(e);return t}(e),{allowable_tags:e,tag_replacement:t,state:s,tag_buffer:"",depth:0,in_quote_char:""}}function d(e,t){if("string"!=typeof e)throw new TypeError("'html' parameter must be a string");let i=t.allowable_tags,o=t.tag_replacement,l=t.state,a=t.tag_buffer,c=t.depth,d=t.in_quote_char,u="";for(let t=0,m=e.length;t<m;t++){let m=e[t];if(l===s)"<"===m?(l=n,a+=m):u+=m;else if(l===n)switch(m){case"<":if(d)break;c++;break;case">":if(d)break;if(c){c--;break}d="",l=s,a+=">",i.has(h(a))?u+=a:u+=o,a="";break;case'"':case"'":d=m===d?"":d||m,a+=m;break;case"-":"<!-"===a&&(l=r),a+=m;break;case" ":case"\n":if("<"===a){l=s,u+="< ",a="";break}a+=m;break;default:a+=m}else l===r&&(">"===m?("--"==a.slice(-2)&&(l=s),a=""):a+=m)}return t.state=l,t.tag_buffer=a,t.depth=c,t.in_quote_char=d,u}function h(e){let t=l.exec(e);return t?t[1].toLowerCase():null}a.init_streaming_mode=function(e,t){let i=c(e=e||[],t=t||"");return function(e){return d(e||"",i)}},e.exports?e.exports=a:t.striptags=a}(we)),q.exports;var e}var Ee=Ie();const Te=re(Ee);function xe(e,t=[],i=""){return Te(e,t,i)}var P,G,N,W,R,X;function Le(){return G||(G=1,P=function(e){return typeof e<"u"&&null!==e&&("object"==typeof e||"function"==typeof e)}),P}function Se(){if(W)return N;W=1;var e=Le();function t(e,t){for(var s in t)i(t,s)&&(e[s]=t[s])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return N=function(i){e(i)||(i={});for(var s=arguments.length,n=1;n<s;n++){var r=arguments[n];e(r)&&t(i,r)}return i},N}function Ae(){if(X)return R;X=1;var e,t=Se(),i={},s={default:{"&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'","&amp;":"&","&#38;":"&","&gt;":">","&#62;":">","&lt;":"<","&#60;":"<"},extras:{"&cent;":"¢","&#162;":"¢","&copy;":"©","&#169;":"©","&euro;":"€","&#8364;":"€","&pound;":"£","&#163;":"£","&reg;":"®","&#174;":"®","&yen;":"¥","&#165;":"¥"}};function n(e,t){if(!function(e){return e&&"string"==typeof e}(e))return"";var n=s[t||"default"],r=function(e,t){if(i[e])return i[e];var s=Object.keys(t).join("|"),n=new RegExp("(?=("+s+"))\\1","g");return i[e]=n,n}(t,n);return e.replace(r,(function(e){return n[e]}))}return Object.defineProperty(s,"all",{get:function(){return e||(e=t({},s.default,s.extras))}}),n.chars=s.default,n.extras=s.extras,Object.defineProperty(n,"all",{get:function(){return s.all}}),R=n}Ae();let L=[];const J=new WeakMap;let K=!1;class Oe extends Promise{cancel(){}}function ke(e,t){const i=new Oe((t=>{var s;const n=Object.assign({ctx:document},{});(Array.isArray(n.ctx)?n.ctx:[n.ctx]).forEach((e=>{J.has(e)||(J.set(e,!0),e.addEventListener("keydown",(e=>{var t;if("Escape"!==e.key||!L.length||K)return;K=!0,setTimeout((()=>{K=!1}));const i=L.pop();null===(t=i.callback)||void 0===t||t.call(i),i.resolve()})))}));const r={id:null!==(s=n.id)&&void 0!==s?s:B(),callback:e,resolve:t};if(setTimeout((()=>{i.cancel=()=>{L=L.filter((e=>e.id!==r.id)),Promise.resolve(i)}})),n.id){const i=L.find((e=>e.id===n.id));i?(i.callback=e,i.resolve=t):L.push(r)}else L.push(r)}));return i}function C(e,t,i){const s=Object.assign({ctx:document.body,preventDefault:!0},{});if(Array.isArray(e)){const i=e.map((e=>C(e,t)));return{cancel:()=>{i.forEach((e=>{e.cancel()}))}}}const n=e.split("+").map((e=>"command"===e||"cmd"===e?"meta":"escape"===e||"esc"===e?"Escape":e)),r=n[n.length-1],o=["shift","ctrl","alt","meta"],l=n.filter((e=>o.includes(e))).length>1,a=e=>{const i=document.activeElement;if(("INPUT"===i?.tagName||"TEXTAREA"===i?.tagName||i?.hasAttribute("contenteditable"))&&!n.includes("meta")&&!n.includes("ctrl")&&"Escape"!==r||e.key!==r)return;let o=[e.shiftKey,e.ctrlKey,e.altKey,e.metaKey].filter((e=>e)).length>1,a=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;n.length>1&&!a||l&&!o||e.ctrlKey&&!n.includes("ctrl")||e.metaKey&&!n.includes("meta")||e.altKey&&!n.includes("alt")||e.shiftKey&&!n.includes("shift")||(s.preventDefault&&e.preventDefault(),t(e))};return s.ctx.addEventListener("keydown",a),{cancel:()=>{s.ctx.removeEventListener("keydown",a)}}}var _=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},S=function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{a(s.next(e))}catch(e){r(e)}}function l(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){e.done?n(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(o,l)}a((s=s.apply(e,t||[])).next())}))};class m extends se{constructor(){super("s-advanced-select"),this._displayedMaxItems=0,this._filterValue="",this._items=[],this._filteredItems=[],this._isLoading=!1,this.items=[],this.value="value",this.label="label",this.showKeywords=!1,this.emptyText=x("No items found..."),this.loadingText=x("Loading, please wait..."),this.minChars=1,this.filtrable=[],this.highlightable=[],this.closeTimeout=100,this.notSelectable=!1,this.maxItems=-1,this.classes={},this.inline=!1,this._$container=document.createElement("div"),this._$list=document.createElement("ul"),this._$dropdown=document.createElement("div"),this._$input=document.createElement("input"),this._templatesFromHtml={},this._isArrowUsed=!1,this._baseTemplates=e=>{},this._currentItemIdx=0}mount(){return S(this,void 0,void 0,(function*(){if(this._displayedMaxItems=this.maxItems,"string"==typeof this.filtrable&&(this.filtrable=this.filtrable.split(",").map((e=>e.trim()))),this.filtrable.length||(this.filtrable.push("id"),this.filtrable.push("value"),"string"==typeof this.label&&this.filtrable.push(this.label)),this.highlightable.length||"string"==typeof this.label&&this.highlightable.push(this.label),!this.filtrable.length)throw new Error('Sorry but you have to specify at least one property in the "filtrable" item property...');this._baseTemplates=({type:e,item:t,$items:i,html:s})=>{switch(e){case"item":return s`
            ${H("function"==typeof this.label?x(this.label({item:t})):x(t[this.label]))}
          `;case"group":return s` <div class="${this.cls("_group-label")}">
              <span class="${this.cls("_group-label-inner")}">
                ${x(t.label)}
              <span>
            </div>
            <div class="${this.cls("_group-items")}">
              <ul class="${this.cls("_group-items-inner")}">${i}</ul>
          </div>`;case"empty":return s` <div>${x(this.emptyText)}</div> `;case"loading":return s`
            <div class="${this.cls("_loading")}">
              ${x(this.loadingText)}
            </div>
          `}},this._grabTemplatesFromDom(),this._initListeners(),he(this)&&setTimeout((()=>{this.focus()}))}))}updated(e){e.has("_isLoading")&&(this._isLoading?this.dispatch("loading"):this.dispatch("loaded")),this._filterValue?this.classList.add("-filtered"):this.classList.remove("-filtered"),this._isLoading?this.classList.add("-loading"):this.classList.remove("-loading"),this._filteredItems.length?this.classList.remove("-empty"):this.classList.add("-empty"),this.inline?this.classList.add("-inline"):this.classList.remove("-inline")}firstUpdated(){return S(this,void 0,void 0,(function*(){var e,t;this._$input=null!==(e=this.querySelector("input"))&&void 0!==e?e:document.createElement("input"),!(null===(t=this._$input)||void 0===t)&&t.parentElement||this.appendChild(this._$input),this._$input.setAttribute("autocomplete","off"),this._$form=this._$input.form,this.addEventListenerOn(this._$input,"keydown",(e=>{"Escape"===e.key&&e.preventDefault()})),this.addEventListenerOn(this._$form,"submit",(e=>{this.isActive()&&e.preventDefault()})),this.addEventListenerOn(this._$input,"keyup",(e=>S(this,void 0,void 0,(function*(){if(!this.isActive()||this._filterValue===e.target.value)return;this.resetPreselected(),this.resetSelected();const t=e.target.value;this._filterValue=t,this._displayedMaxItems=this.maxItems,"function"==typeof this.items?yield this.refreshItems():this._filterItems()})))),this.addEventListenerOn(this._$input,"focus",(e=>{if(!this.isActive())return;const t=e.target.value;this._filterValue=t,this._open(),this._updateListSizeAndPosition()})),this._$input.classList.add(...this.cls("_input")),this.classes.input&&this._$input.classList.add(this.classes.input),this._$container=this,this._$container.classList.add(...this.cls()),this.classes.container&&this._$container.classList.add(this.classes.container),this._$list=this.querySelector("ul"),this._$dropdown=this.querySelector(`.${this.internalCls("_dropdown")}`),this.addEventListenerOn(document,"scroll",(()=>{this._updateListSizeAndPosition()})),this._updateListSizeAndPosition(),ae(this._$list,(()=>{var e;-1!==this.maxItems&&(this._displayedMaxItems=(null!==(e=this._displayedMaxItems)&&void 0!==e?e:0)+this.maxItems,this._filterItems())})),this.addEventListenerOn(document,"keydown",(e=>{var t;if(!this.isActive()||!this._filteredItems.length)return;const i={ArrowDown:"bottom",ArrowUp:"top",ArrowLeft:"left",ArrowRight:"right"};if(!i[e.key])return;this._isArrowUsed=!0,clearTimeout(this._isArrowUsedTimeout),this._isArrowUsedTimeout=setTimeout((()=>{this._isArrowUsed=!1}),100);const s=this.querySelectorAll(`.${this.internalCls("_item")}.-match`),n=this.querySelector(`.${this.internalCls("_item")}.-preselected`)||this.querySelector(`.${this.internalCls("_item")}.-selected`)||this.querySelectorAll(`.${this.internalCls("_item")}`)[0];if(this.getPreselectedItem()){let t=de(n,s,{direction:i[e.key]});if(!t)return;const r=t.dataset.id;r&&this.preselect(r,{scrollIntoView:!0})}else{const e=null===(t=s[0])||void 0===t?void 0:t.dataset.id;e&&this.preselect(e,{scrollIntoView:!0})}})),this.addEventListenerOn(document,"keyup",(e=>{"Enter"===e.key&&(e.preventDefault(),this.isActive()&&this.select())})),this._filterValue&&this.setSearch(this._filterValue),this._$input.value&&(this._filterValue=this._$input.value),this.inline&&this.refreshItems()}))}_initListeners(){this.hotkey&&C(this.hotkey,(()=>{this.focus()}))}_grabTemplatesFromDom(){this.querySelectorAll("template").forEach((e=>{e.hasAttribute("type")&&(this._templatesFromHtml[e.getAttribute("type")]=e.innerHTML)}))}_renderTemplate(e){const t=Object.assign({type:"item",item:null,$items:[],html:I,unsafeHTML:H,idx:0},e);if(this.templates){const e=this.templates(t);if(e)return e}return this._templatesFromHtml[t.type]?I` ${H(this._templatesFromHtml[t.type])} `:this._baseTemplates(t)}preselect(e,t){"string"==typeof e&&(e=this.getItemById(e));const i=this.getPreselectedItem();if(i&&(i.state.preselected=!1),!this.notSelectable&&e.state.match){if(t?.scrollIntoView){const t=this.getItemDomElement(e);t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}e.state.preselected=!0,t?.preventFocus||setTimeout((()=>{this.focus()})),this.requestUpdate()}}resetPreselected(){const e=this.getPreselectedItem();e&&(e.state.preselected=!1)}setSearch(e){return S(this,void 0,void 0,(function*(){this._$input.value=e,this._filterValue=e,yield this.refreshItems(),this.requestUpdate()}))}select(e=this.getPreselectedItem()){"string"==typeof e&&(e=this.getItemById(e));const t=this.getPreselectedItem();t&&(t.state.preselected=!1);const i=this.getSelectedItem();i&&(i.state.selected=!1),!this.notSelectable&&e.state.match&&(e.state.selected=!0,setTimeout((()=>{var t;e.preventSet?this.setSearch(""):this.setSearch(null!==(t=e.value)&&void 0!==t?t:e.id),e.preventClose&&this.focus()})),e.preventClose||this._close(),e.preventSelect||this.dispatch("select",{detail:{item:e,$elm:this.querySelector(`.${this.internalCls("_item")}[data-internal-id="${e._internalId}"]`)}}),this.requestUpdate())}resetSelected(){const e=this.getSelectedItem();e&&(e.state.selected=!1)}getItemDomElement(e){return this.querySelector(`.${this.internalCls("_item")}[data-id="${e.id}"]`)}reset(){this.resetPreselected(),this.resetSelected(),this.setSearch(""),this.dispatch("reset")}getItemById(e){return this._filteredItems.find((t=>t.id===e))}getPreselectedItem(){return this._filteredItems.find((e=>e.state.preselected))}getSelectedItem(){return this._filteredItems.find((e=>e.state.selected))}getMatchItems(){return this._filteredItems.filter((e=>e.state.match))}_open(){return S(this,void 0,void 0,(function*(){ke((()=>{this.isActive()&&(this.reset(),this._close())})),this.dispatch("open"),yield this.refreshItems()}))}_close(){var e;null===(e=document.activeElement)||void 0===e||e.blur(),this.dispatch("close")}focus(){this._$input.focus()}blur(){this._$input.blur(),this._close()}refreshItems(){return S(this,void 0,void 0,(function*(){if(clearTimeout(this._isLoadingTimeout),this._isLoadingTimeout=setTimeout((()=>{this._isLoading=!0}),100),this.items){if("string"==typeof this.items)try{this._items=JSON.parse(this.items)}catch{const e=document.querySelector(this.items);e&&(this._items=JSON.parse(e.innerHTML.trim()))}else"function"==typeof this.items?this._items=yield this.items({search:this._filterValue,items:this._items}):this._items=this.items;this.dispatch("items",{detail:{items:this._items}})}this._initItems(this._items),yield this._filterItems(),clearTimeout(this._isLoadingTimeout),this._isLoading=!1;const e=this.querySelector(`.${this.internalCls("_item")}.-selected`);e?this.preselect(e?.dataset.id,{preventFocus:!0,scrollIntoView:!0}):this._filteredItems.length&&this.preselect(this._filteredItems[0],{preventFocus:!0,scrollIntoView:!0})}))}_initItems(e){return e.map((e=>(e.items&&(e.items=this._initItems(e.items)),this._initItem(e))))}_initItem(e){if("group"!==e.type)return e.state||(e.state={match:!0,preselected:!1,selected:!1}),e.id||(e.id=B()),e.type||(e.type="item"),e}_getItemsOnly(){const e=[];return this._items.forEach((t=>{var i;"group"==t.type?null===(i=t.items)||void 0===i||i.forEach((t=>{e.push(t)})):e.push(t)})),e}_filterItems(){return S(this,void 0,void 0,(function*(){if(this._filterValue&&this._filterValue.length<this.minChars)return;this._isLoading=!0;const e=this._getItemsOnly();let t=this._filterValue;this.filterValuePreprocess&&(t=this.filterValuePreprocess(t)),t=_e(t);let i=e;if(this.filterItems)i=yield this.filterItems(i,t,this);else{if(!this.filtrable.length)return!0;i=i.filter((e=>{let i=!1;for(let s=0;s<Object.keys(e).length;s++){const n=Object.keys(e)[s];if("string"!=typeof e[n])continue;const r=xe(e[n]);if(e._original||Object.defineProperty(e,"_original",{value:{},writable:!0,configurable:!1,enumerable:!1}),e._original[n]||(e._original[n]=e[n]),-1!==this.filtrable.indexOf(n)){const s=t.split(" ").map((e=>e.replace(/[^a-zA-Z0-9 ]/g,"").trim())).filter((e=>""!==e)),o=new RegExp(`${t}`.split(" ").map((e=>e.replace(/[^a-zA-Z0-9 ]+/g,"").trim())).join("|"),"gi");if(r.match(o))if(i=!0,this.highlightable.includes(n)&&t&&""!==t){let t=e._original[n];t=ge(t,s,{class:this.cls("_highlight").join(" ")}),e[n]=t}else e[n]=e._original[n];else e[n]=e._original[n]}}return e.state.match=i,i}))}this._filteredItems=i,this._isLoading=!1}))}_updateListSizeAndPosition(){if(!this.isActive()||this.inline||!this._$dropdown)return;const e=z(this._$dropdown,"marginTop"),t=z(this._$dropdown,"marginBottom"),i=oe(this._$input),s=le(this._$input)-this._$input.clientHeight;let n;i>s?(this._$container.classList.add("-top"),this._$dropdown.style.top="auto",this._$dropdown.style.bottom=`calc(100% - ${t})`,n=i-parseInt(e)):(this._$container.classList.remove("-top"),this._$dropdown.style.bottom="auto",this._$dropdown.style.top=`calc(100% - ${e})`,n=s-parseInt(t)),this._$dropdown.style.maxHeight=`${n}px`}_removeKeyword(e){const t=this._filterValue.split(" ").filter((t=>t!==e)).join(" ");this.setSearch(t)}_renderItems(e,t=!1){return I`${e.map(((e,i)=>this._renderItem(e,i,t)))}`}_renderItem(e,t,i=!1){var s,n,r,o;if(this._currentItemIdx++,e._internalId||Object.defineProperty(e,"_internalId",{value:`s-${B()}`,writable:!1,enumerable:!1,configurable:!1}),!(-1!==this.maxItems&&this._currentItemIdx>this._displayedMaxItems))return I`
      <li
        data-id="${e.id}"
        data-internal-id="${e._internalId}"
        @pointerup=${()=>this.select(e)}
        @mouseover=${()=>{this._isArrowUsed||(this.preselect(e),this.requestUpdate())}}
        style="z-index: ${999999999-t}"
        tabindex="-1"
        class="${this.cls("_item")} ${this.classes.item} ${i?this.cls("_group-item"):""} ${null!==(s=e.state)&&void 0!==s&&s.selected?"-selected":""} ${null!==(n=e.state)&&void 0!==n&&n.preselected?"-preselected":""} ${this._filterValue?"-filtered":""} ${null!==(r=e.state)&&void 0!==r&&r.match?"-match":""}"
      >
        ${this._renderTemplate({type:null!==(o=e.type)&&void 0!==o?o:"item",item:e,idx:t})}
      </li>
    `}render(){this._currentItemIdx=0;const e=this._renderTemplate({type:"before"}),t=this._renderTemplate({type:"after"}),i=this._renderTemplate({type:"empty"});return I`
      <div class="${this.cls("_dropdown")} ${this.classes.dropdown}">
        ${e?I`
              <div
                class="${this.cls("_before")} ${this.classes.before}"
                tabindex="-1"
              >
                ${e}
              </div>
            `:""}
        ${this._$input&&this._$input.value&&this.showKeywords?I`
              <div
                tabindex="-1"
                class="${this.cls("_keywords")} ${this.classes.keywords}"
              >
                ${this._$input.value.split(" ").filter((e=>""!==e)).map((e=>I`
                      <span
                        tabindex="-1"
                        @click=${()=>this._removeKeyword(e)}
                        class="${this.cls("_keyword")}"
                        >${x(e)}</span
                      >
                    `))}
              </div>
            `:""}
        <ul class="${this.cls("_items")} ${this.classes.items}">
          ${this._isLoading?I`
                <li class="${this.classes.item} ${this.cls("_loading")}">
                  ${this._renderTemplate({type:"loading"})}
                </li>
              `:!this._isLoading&&this._filteredItems.length<=0&&i?I`
                <li class="${this.classes.item} ${this.cls("_empty")}">
                  ${i}
                </li>
              `:this._isLoading?"":this._items.map(((e,t)=>{var i,s,n,r;if("group"===e.type){const t=this._renderItems(null!==(i=e.items)&&void 0!==i?i:[],!0);return I`
                      <li
                        class="${this.classes.group} ${this.cls("_group")}"
                        group="${null!==(r=null!==(n=null!==(s=e[this.label])&&void 0!==s?s:e.label)&&void 0!==n?n:e.title)&&void 0!==r?r:e.name}"
                      >
                        ${this._renderTemplate({type:"group",$items:t,item:e})}
                      </li>
                    `}return I` ${this._renderItem(e,t)} `}))}
        </ul>
        ${t?I`
              <div
                class="${this.cls("_after")} ${this.classes.after}"
                tabindex="-1"
              >
                ${t}
              </div>
            `:""}
      </div>
    `}}_([j()],m.prototype,"_filterValue",void 0),_([j()],m.prototype,"_items",void 0),_([j()],m.prototype,"_filteredItems",void 0),_([j()],m.prototype,"_isLoading",void 0),_([v()],m.prototype,"items",void 0),_([v()],m.prototype,"value",void 0),_([v()],m.prototype,"label",void 0),_([v({type:Boolean})],m.prototype,"showKeywords",void 0),_([v({type:String})],m.prototype,"emptyText",void 0),_([v({type:String})],m.prototype,"loadingText",void 0),_([v({type:Function})],m.prototype,"filterValuePreprocess",void 0),_([v({type:String})],m.prototype,"hotkey",void 0),_([v({type:Function})],m.prototype,"filterItems",void 0),_([v({type:Number})],m.prototype,"minChars",void 0),_([v({type:Array})],m.prototype,"filtrable",void 0),_([v({type:Array})],m.prototype,"highlightable",void 0),_([v({type:Object})],m.prototype,"templates",void 0),_([v({type:Number})],m.prototype,"closeTimeout",void 0),_([v({type:Boolean})],m.prototype,"notSelectable",void 0),_([v({type:Number})],m.prototype,"maxItems",void 0),_([v({type:Object})],m.prototype,"classes",void 0),_([v({type:Boolean})],m.prototype,"inline",void 0);const qe=document.querySelector(".search ._expand");let k;document.addEventListener("sAdvancedSelect.select",(e=>{document.body.classList.remove("-search-large");const t=e.detail.item;setTimeout((()=>{document.activeElement?.blur()}),D()?100:0),setTimeout((()=>{t.url?window.open(t.url,"_blank")?.focus():t.slug?F(t.slug):F(`/doc/${ne(t.value)}`)}),D()?200:0)})),m.define("lo-search",{minChars:0,async items(){if(k)return k;const e=await fetch("/api/doc"),t=await e.json(),i={};return t.forEach((e=>{let t=[];try{t=JSON.parse(e.data.platform)}catch{}t=t.map((e=>e.name.toLowerCase()));const s=e.data.namespace.split(".")[3];i[s]||(i[s]={type:"group",label:s,items:[]});const n=t.map((e=>`<span class="platform -${e}">${e}</span>`)).join("");i[s].items.push({id:me(e.id),label:`<div class="_item">\n            <div class="_item-metas">\n              <div class="_item-title">${e.data.title}</div>\n              <div class="_item-description">${e.data.description}</div>\n            </div>\n            <div class="_item-platforms">${n}</div>\n          </div>`,value:`${e.id.replace(/\//gm,".").replace(/\.mdx$/,"")}`,preventSet:!0})})),k=[...(window.menuGroups??[]).map((e=>({...e,items:e.items.map((e=>({...e,label:`<div class="_item">\n                    <div class="_item-metas">\n                      <div class="_item-title">${e.label}</div>\n                      ${e.description?`<div class="_item-description">${e.description}</div>`:""}\n                    </div>\n                  </div>`})))}))),...Object.values(i)],k},filtrable:["label"],hotkey:["cmd+p","cmd+shift+p"]}),qe?.addEventListener("click",(()=>{document.body.classList.add("-search-large")})),document.addEventListener("astro:page-load",(()=>{C("cmd+shift+p",(()=>{document.body.classList.add("-search-large")})),C("escape",(()=>{document.body.classList.remove("-search-large")}))}));